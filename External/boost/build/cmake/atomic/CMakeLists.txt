SET(LIB_NAME atomic)

SET(SOURCE_FILES
	${BOOST_PROJECT_DIR}/libs/atomic/src/lockpool.cpp
)

IF(KLAYGE_PREFERRED_LIB_TYPE STREQUAL "SHARED")
	ADD_DEFINITIONS(-DBOOST_ATOMIC_DYN_LINK=1)
ELSE()
	ADD_DEFINITIONS(-DBOOST_ATOMIC_STATIC_LINK=1)
ENDIF()
IF(WIN32)
	ADD_DEFINITIONS(-DBOOST_USE_WINDOWS_H)
ENDIF()
ADD_DEFINITIONS(-DBOOST_ATOMIC_SOURCE)

SETUP_BOOST_LIBRARY(${LIB_NAME})

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>KlayGE Readme</title>
</head>
<body>
<h1>Klay Game Engine (KlayGE) 3.11.0 Readme</h1>
<p>Translated by Joseph Grochowski</p>
<p>Minmin Gong<br />
	Homepage: <a href="http://www.klayge.org" target="_blank">http://www.klayge.org</a><br />
	E-Mail:	  <a href="mailto:webmaster@klayge.org">webmaster@klayge.org</a><br />
	QQ:       33611210</p>
<p>Welcome to use Klay Game Engine version 3.11.0.<br />
	The compressed package includes: KlayGE header files, source code, project files and documentation.</p>
<p>KlayGE is an open source, cross-platform game engine with plugin-based architecture. The explicit goal of KlayGE is to arm your engine with cutting-edge technology. It provides a framework to make game development, testing, porting as simple as possible. KlayGE can cover platforms from the high-end to the low-end at   most one year before it's release.</p>
<h2><a id="menu">Content</a></h2>
<ul>
	<li><a href="#license">Licensing</a></li>
	<li><a href="#installation">Installation</a></li>
	<li><a href="#third_part">Third-party Libraries and Tools</a></li>
	<li><a href="#history">History</a></li>
	<li><a href="#structure">Directory Structure</a></li>
	<li><a href="#compiler">Compilers Tesed</a></li>
</ul>
<hr />
<h2><a id="license">Licensing</a></h2>
<p>KlayGE is released under the GPL 2.0 license. In other words, anyone can use it and  access to its source code, as long as the project which uses KlayGE must be released under GPL 2.0 license. See the full text of the license here: <a href="gplv2.txt">gplv2.txt</a>.</p>
<p>Open source is a very powerful way of development. It encourages collaboration, cooperation, and user freedom. Open source software's source code is 100% accessable; free from hidden malware, spyware and viruses.</p>
<p><a href="#menu">^Back to Index</a></p>
<hr />
<h2><a id="installation">Installation</a></h2>
<p>Since KlayGE 3.10.0, include and lib paths are set up inside the project files. After extraction, just open the corresponding project file under &quot;Build&quot; directory, KlayGE itself can be built directly. If you need to use the engine to develop your own projects, you need to do some additional setup:</p>
<ol>
	<li>Run the env_vars.py under KlayGE directory. The script sets the environment variable &quot;KLAYGE_HOME&quot;, and adds the &quot;bin&quot; directory into OS's PATH environment variable. If you do not have pywin32 installed, you may need to manually modify the environment variables, or restart your computer.</li>
	<li>Set the pathes. Taking Visual Studio 2008 as an example (for other IDEs, please refer to their own help files): 
		<ol>
			<li>Open &quot;Tools&quot;-&gt;&quot;Options&quot;-&gt;&quot;Projects and Solutions&quot;-&gt;&quot;VC++ Directories&quot;, select &quot;Include files&quot; in &quot;Show directories for:&quot; drop-down box, adds $(KLAYGE_HOME)\Core\Include and $(KLAYGE_HOME)\Plugins\Include.</li>
			<li>Select &quot;Library files&quot; in &quot;Show directories for:&quot;, adds $(KLAYGE_HOME)\lib\Win32(For x64 version, replace &quot;Win32&quot; by &quot;x64&quot;).</li>
			<li>Click &quot;OK&quot;. It's recommended to restart Visual Studio in order to ensure the environment settings have been saved properly.</li>
		</ol>
	</li>
</ol>
<h4>Notes for MinGW users:</h4>
<p>There are some incompatibilities between new versions of the Windows SDK/DirectX SDK and MinGW. When compiling the DirectSound plug-in, and the compiler will report sal.h cannot be found. VC's &quot;sal.h&quot; needs to be copied to &quot;MinGW/include&quot;. Then open &quot;MinGW/lib/gcc/mingw32/4.4.1/include/stddef.h&quot;, replace &quot;#define NULL __null&quot; by &quot;#define NULL 0&quot;. Otherwise, sal.h will define __null to some other token incorrectly.</p>
<p><a href="#menu">^Back to Index</a></p>
<hr />
<h2><a id="third_part">Third-party libraries and tools</a></h2>
<p>Before compiling KlayGE, the following third-party libraries and tools must be installed:</p>
<h4>Core requires:</h4>
<ul>
	<li><a href="http://www.python.org" target="_blank">Python 2.6 or 3.1</a>. Debug version pythonxx_d.dll need to be compiled from Python's source yourself.</li>
	<li><a href="http://www.boost.org" target="_blank">Boost 1.44.0</a>. Recommanded bjam command line please check <a href="http://www.klayge.org/html/faq_en.html">FAQ</a></li>
	<li><a href="http://www.tortall.net/projects/yasm/" target="_blank">Yasm 1.1.0</a></li>
	<li><a href="http://rapidxml.sourceforge.net/" target="_blank">RapidXml 1.13</a></li>
</ul>
<h4>D3D9 Rendering System, D3D10 Rendering System, D3D11 Rendering System and DSound Audio System require:</h4>
<ul>
	<li><a href="http://msdn.microsoft.com/directx" target="_blank">DirectX SDK June 2010</a></li>
</ul>
<h4>DShow Show System requires: </h4>
<ul>
	<li>Microsoft Windows SDK 7.0A comes with Visual Studio 2010, Microsoft Windows SDK 6.0A comes with Visual Studio 2008, or <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=484269e2-3b89-47e3-8eb7-1f2be6d7123a&amp;displaylang=en" target="_blank">Windows(R) Server 2003 R2 Platform SDK</a></li>
</ul>
<h4>OggVorbis Audio Datasource requires:</h4>
<ul>
	<li><a href="http://xiph.org/downloads/" target="_blank">libogg 1.2.0</a> and <a href="http://xiph.org/downloads/" target="_blank">libvorbis 1.3.1</a>, must be compiled to static library</li>
</ul>
<h4>OpenAL Audio System requires:</h4>
<ul>
	<li><a href="http://www.openal.org/downloads.html" target="_blank">OpenAL SDK 1.1</a></li>
</ul>
<h4>OpenGL Rendering System requires:</h4>
<ul>
	<li><a href="http://developer.nvidia.com/object/cg_toolkit.html" target="_blank">NVIDIA Cg 3.0</a></li>
</ul>
<h4>OpenGL ES 2 Rendering System requires:</h4>
<ul>
	<li><a href="http://developer.amd.com/gpu/opengl/Pages/default.aspx" target="_blank">AMD OpenGL ES Emulator 1.4</a>, or <a href="http://www.malideveloper.com/tools/software-development/opengl-es-20-emulator.php" target="_blank">ARM Mali OpenGL ES 2.0 Emulator v1.2 Beta</a></li>
</ul>
<h4>KFontGen tool requires:</h4>
<ul>
	<li><a href="http://freetype.sourceforge.net" target="_blank">FreeType 2.4.2</a>, LIB Debug and LIB Release solution configurations should be compiled</li>
</ul>
<h3>Notes</h3>
<p>As mentioned previously, before the first compilation of KlayGE, run the env_vars.py Python script to set the required environment variables.</p>
<p>As KlayGE uses VC Multi-threaded DLL runtime library, it needs <strong>ALL</strong> libs that linked to exes change to use Multi-threaded DLL runtime library (Project-&gt;Properties-&gt;Configuration Properties-&gt;C/C++-&gt;Code Generation-&gt;Runtime Library, select Multi-threaded Debug DLL/Multi-threaded DLL).</p>
<p>In addition, using VC8 and VC9 to compile Release versions of Boost needs to define the _SECURE_SCL = 0 macro. If you are using Boost Build (bjam) to build the libraries, make sure to add &quot;define=_SECURE_SCL=0&quot; to the bjam command line.</p>
<p><a href="#menu">^Back to Index</a></p>
<hr />
<h2><a id="history">History</a></h2>
<p><strong>3.11.0 </strong><br />
	<strong>Support OpenGL 4.1</strong><br />
	Remove D3D10 plug-in<br />
	Enhanced Post Processor script<br />
	Imporved quality and speed of water rendering</p>
<p><strong>3.10.0 (2010.6.27)</strong><br />
	<strong>Support OpenGL ES 2.0 and OpenGL 4.0</strong><br />
	<string>Stereo mode support</strong><br />
	Support Compute Shader<br />
	Font rendering speed up for 50%<br />
	Enhanced Scene Manager<br />
	Enhanced Post processing<br />
	Support Sub-Surface Scattering<br />
	Support PN Triangles</p>
<p><strong>3.9.0 (2009.12.19)</strong><br />
	Add TrackballCameraController<br />
	Add Model Viewer and Particle Editor<br />
	Improve UI dialog<br />
	Load uiml, fxml and meshml directly <br />
	Cg shaders are compiled to GLSLs after loaded<br />
	Support Motion blur<br />
	Read/write support of DX10 DDS<br />
	Support stream output<br />
	Faster Deferred Shading<br />
	Add LZMA codec </p>
<p><strong>3.8.0 (2009.3.1) </strong><br />
	<strong>Support DX10£¬DX11 and OpenGL 3.0</strong><br />
	Released as DLL<br />
	Add UIMI file format and compiler to describ UI<br />
	Add ElementAccessHint and ElementInitData<br />
	Support hardware depth texture<br />
	Support BC4/BC5 texture compression <br />
	Remove the normalized cubemap generator <br />
	Multi-threaded resource loading<br />
	Support procedural Texture</p>
<p><strong>3.7.0 (2008.7.17)</strong><br />
	Improve Clear<br />
	Add Depth Peeling sample <br />
	Accelerated Octree<br />
	Gimbal-lock free FirstPersonCameraController<br />
	New distance-based font format<br />
	Support Visual Studio 2008<br />
	Support lock-free atomic operation <br />
	Add CPUInfo<br />
	Add Summed-Area Table Postprocess<br />
	Experimental support of Linux<br />
	5%-10% performance increasement</p>
<p><strong>3.6.0 (2007.7.30)</strong><br />
	Compatible with Vista 32/64<br />
	Use pbo to accelerate texture filling <br />
	Use 7z as packaging format <br />
	Enhanced 3DS Max plug-in <br />
	Add Clone function to RenderEffect<br />
	Remove RenderTarget and RenderWindow<br />
	Remove Triangle fan primitive topologic<br />
	Add UI system <br />
	Add Depth of field sample <br />
	Remove support of Wav format <br />
	New thread and thread_pool classes </p>
<p><strong>3.5.0 (2007.3.9)</strong><br />
	Support Alpha to coverage<br />
	New xml-based effect format<br />
	New effect system, support caching all states<br />
	Add RenderStateObject and ShaderObject<br />
	Support x64 systems <br />
	OpenGL plug-in can detect Shader Model 4<br />
	Add GPU-based particle system<br />
	Add aligned_allocator<br />
	Fix thread_pool's deadlock bug (thanks Roy for reporting this bug)<br />
	Support NVPerfHUD<br />
	Add signed element format<br />
	Remove VS2003 project files </p>
<p><strong>3.4.0 (2006.9.22)</strong><br />
	Export plug-in support for exporting skeletal<br />
	Support normal map compression <br />
	Support HDR texture compression<br />
	Add particle system<br />
	Rewrite the show engine, now video are played through the graphics engine<br />
	Rewrite height map terrain generator <br />
	Add HDRPostProcess</p>
<p><strong>3.3.0 (2006.6.30)</strong><br />
	Support render to 3D posotion in Font<br />
	Unified states set in rendering engine<br />
	OpenGL plug-in requires hardware support of OpenGL 2.0 and FBO<br />
	Add FrameBuffer and RenderView<br />
	Use Technique as the rendering unit<br />
	Support render to a slice of a 3D texture<br />
	Add several texture formats<br />
	Unify the usage of element format<br />
	DistanceMap generator processes volume data directly<br />
	Add PostProcess</p>
<p><strong>3.2.0 (2006.5.15)</strong><br />
	Add high-precision timer <br />
	Full support of skeletal animation <br />
	Refactor the rendering part's structure <br />
	Merge IndexStream and VertexStream to GraphicsBuffer<br />
	Add RenderLayout<br />
	Support sRGB texture <br />
	Support ATI's instancing<br />
	Add platform-independent thread pool</p>
<p><strong>3.1.0 (2005.11.27)</strong><br />
	Add SceneObject<br />
	Simplify the usage of instancing<br />
	Support Visual Studio 2005<br />
	Separate the instance and geometry streams</p>
<p><strong>3.0.0 (2005.10.26)</strong><br />
	Remove the fixed pipeline <br />
	Add Occlusion Query<br />
	Add Point sprite<br />
	Support Instancing<br />
	Support Vertex Texture<br />
	Enhance KMesh and 3dsmax exportplug-in<br />
	Optimized RenderEffect<br />
	InputEngine to use Event to handle message <br />
	Support multi-pass rendering of the whole scene <br />
	Support vertex streams' merge and split<br />
	Add RenderablePlane</p>
<p><strong>2.8.0 (2005.8.14)</strong><br />
	Add RenderDeviceCaps<br />
	Add OpenGL compatibility testing tool <br />
	Add Sampler<br />
	Rewrite RenderEffect<br />
	Support OpenGL 1.5 and above only <br />
	Simpify RenderEngine<br />
	DInputDevice uses multiple inheritance <br />
	Add RenderToVertexStream</p>
<p><strong>2.7.1 (2005.7.15)</strong><br />
	Improve the font display<br />
	LoadKMesh can use a custom factory class<br />
	Add RenderableHelper base class <br />
	Modify RenderEngine::ViewMatrix and ProjectionMatrix to const</p>
<p><strong>2.7.0 (2005.7.2)</strong><br />
	Released by GPL license <br />
	Add KMesh<br />
	Remove RenderEngine::TextureCoordSet<br />
	Move AddressingMode, Filtering and Anisotropy from RenderEngine to Texture<br />
	Add MaxMipLevel and MipMapLodBias to Texture<br />
	Add Quit to App3D<br />
	Support OpenGL 1.5</p>
<p><strong>2.6.0 (2005.6.2)</strong><br />
	Fix bug in SceneManager::CanBeCulled<br />
	Add half type <br />
	Add the support of surface to D3D9Texture<br />
	Add RenderableSkyBox<br />
	Support HDR</p>
<p><strong>2.5.0 (2005.5.2)</strong><br />
	Add 3DSMax export plug-in <br />
	Multiple input action table support<br />
	Function in MathLib return the results directly <br />
	Improve CameraController<br />
	Add RenderableHelper<br />
	View frustum uses LUT</p>
<p><strong>2.4.0 (2005.3.28)</strong><br />
	Support texture compression<br />
	Add D3D9Resource<br />
	Loading/Saving as DDS format <br />
 Linear octree support <br />
	Support depth texture</p>
<p><strong>2.3.0 (2005.3.2)</strong><br />
	Use FreeType in Font<br />
	Fix several memory leaks
	<br />
	Support floating point textures<br />
	Add CopyToMemory<br />
	Add view frustum culling plug-in<br />
	Add OnLostDevice and OnResetDevice to D3D9 plug-in </p>
<p><strong>2.2.0 (2004.11.20)</strong><br />
	Fix the volume bug in DSound plug-in <br />
	Remove ManagerBase, FileSystem, Crc32, alloc, Timer and Random<br />
	Upgrade to boost 1.32.0<br />
	Add Trace class </p>
<p><strong>2.1.3 (2004.10.19)</strong><br />
	ScriptEngine::Call uses boost::tuple as its parameter <br />
	Fix some problems about using STL<br />
	Fix CRC errors in Pkt<br />
	Remove MemoryLib</p>
<p><strong>2.1.2 (2004.9.5)</strong><br />
	Add BoneMesh<br />
	Add RenderEffectParameter<br />
	Support DX 9.0c SDK<br />
	Fix bug in DiskFile::Seek<br />
	Replace const T&amp; to T const &amp;<br />
	InputEngine uses Bridge pattern </p>
<p><strong>2.1.1 (2004.5.25)</strong><br />
	Use boost frequenty<br />
	Reimplemente MathLib by generic<br />
	Add Parallax demo<br />
	Add ResLocator</p>
<p><strong>2.1.0 (2004.4.20)</strong><br />
	Enhance OpenGL plug-in <br />
	Remove asm code<br />
	Directly support standalone shader<br />
	Simplify the packaged file directory table</p>
<p><strong>2.0.5 (2004.4.13)</strong><br />
	Enhance OpenGL plug-in<br />
	Fix bug in WindowMovedOrResized<br />
	Reimplement MemFile by stringstream<br />
	Improve the security of code</p>
<p><strong>2.0.4 (2004.4.7)</strong><br />
	Fix loop bug in OALMusicBuffer<br />
	DSMusicBuffer use timeSetEvent<br />
	Improve VertexBuffer<br />
	Audio part adds NullObject<br />
	Add some Demos</p>
<p><strong>2.0.3 (2004.3.12)</strong><br />
	Simplify VertexBuffer<br />
	Remove software vertex blend</p>
<p><strong>2.0.2 (2003.12.28)</strong><br />
	Improve render queue<br />
	Use Python as scripting languauge <br />
	DiskFile implementes by standard C++ stream </p>
<p><strong>2.0.1 (2003.10.17)</strong><br />
	Remove DX8 plug-in <br />
	Add some tools </p>
<p><strong>2.0.0 (2003.10.1)</strong><br />
First release
</p>
<p><strong>2.0.0 Beta (2003.9.5)</strong><br />
	First beta release <br />
</p>
<p><a href="#menu">^Back to Index</a></p>
<hr />
<h2><a id="structure">Directory Structure</a></h2>
<p>Here's a complete description of the KlayGE directory</p>
<pre>
\bin
	compiled DLLs and EXEs

\Build
	Project files

\Core
	Core files of KlayGE

	\Include
		Core headers

	\Src
		Core source files

		\Audio
			Audio engine core source files
		\Input
			Input engine core source files
		\Kernel
			Kernel source files
		\Net
			Network engine core source files
		\Pack
			Packing system core source files
		\Render
			Rendering engine core source files
		\Scene
			Scene manager core source files
		\Script
			Script engine core source files
		\Show
			Show engine core source files

\Doc
	Documentation

\Exporters
	\3DSMax
		\MeshML
			3ds max export plug-in

\media
	Media files
	
	\Fonts
		Font files
	\Models
		model files
	\RenderFX
		Rendering effect scripts
	\Textures
		Texture files

\Plugins
	Plug-in files

	\Include
		Plug-in header files

	\Src
		Plug-in source files

		\Audio
			Audio engine plug-in source files
		\AudioDataSource
			Audio data source plug-in source files
		\Input
			Input engine plug-in source files
		\Render
			Rendering engine plug-in source files
		\Scene
			Scene mananger plug-in source files
		\Show
			Show engine plug-in source files
		\Terrain
			Terrain plug-in source files

\Samples
	Samples source files of KlayGE

\Tools
	Tool files

	\Bin
		Compiled tools
	\DistanceMapCreator
		Tool to use height map to build distance map
	\GLCompatibility
		OpenGL compatibility testing tool
	\HDRCompressor
		HDR texture compress tool
	\KFontGen
		Font converter
	\NormalMapCompressor
		Normal map texture compress tool
	\NormalMapGen
		Tool to use height map to build normal map

\lib
	Compiled static libarary

</pre>
<p><a href="#menu">^Back to Index</a></p>
<hr />
<h2><a id="compiler">Compilers Tested</a></h2>
<p>The following compilers have been tested and should be compatible with KlayGE:</p>
<ul>
	<li>Microsoft Visual C++ 9.0 on Windows (Visual Sudio .NET 2008 SP1), Microsoft Visual C++ 10.0 (Visual Studio 2010).</li>
	<li>MinGW GCC 4.4, 4.5 on Windows.</li>
	<li>GNU GCC 4.4 on Linux.</li>
</ul>
<p>There are a number of compilers that should also be supported, but have not been tested:</p>
<ul>
	<li>Microsoft Visual C++ 7.1 and 8.0 on Windows (Visual Studio .NET 2003 and 2005)</li>
	<li>Intel C++ 10 and above on Windows</li>
	<li>Intel C++ 9 on Linux</li>
</ul>
<p><a href="#menu">^Back to Index</a></p>
<hr />
<p>Last updated: 2010-6-10</p>
</body>
</html>

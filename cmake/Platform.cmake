OPTION(KLAYGE_BUILD_PLATFORM_WINRT "Build KlayGE for Metro UI app (WinRT)." FALSE)

IF(WIN32)
	IF(MSVC)
		IF(CMAKE_GENERATOR MATCHES "Win64")
			SET(KLAYGE_ARCH_NAME "x64")
			SET(KLAYGE_VS_PLATFORM_NAME "x64")
		ELSEIF(CMAKE_GENERATOR MATCHES "ARM")
			SET(KLAYGE_ARCH_NAME "arm")
			SET(KLAYGE_VS_PLATFORM_NAME "ARM")
			SET(KLAYGE_BUILD_PLATFORM_WINRT TRUE)
		ELSE()
			SET(KLAYGE_ARCH_NAME "x86")
			SET(KLAYGE_VS_PLATFORM_NAME "Win32")
		ENDIF()
	ENDIF()
	SET(KLAYGE_PLATFORM_NAME "win")
ELSEIF(ANDROID)
	SET(KLAYGE_PLATFORM_NAME "android")
	SET(KLAYGE_BUILD_PLATFORM_ANDROID TRUE)
ELSEIF(UNIX)
	SET(KLAYGE_PLATFORM_NAME "linux")
ENDIF()

IF(NOT KLAYGE_ARCH_NAME)
	IF((CMAKE_SYSTEM_PROCESSOR MATCHES "AMD64") OR (CMAKE_SYSTEM_PROCESSOR MATCHES "x86_64"))
		SET(KLAYGE_ARCH_NAME "x64")
	ELSE()
		SET(KLAYGE_ARCH_NAME "x86")
	ENDIF()
ENDIF()

IF(KLAYGE_BUILD_PLATFORM_WINRT)
	SET(KLAYGE_ARCH_NAME ${KLAYGE_ARCH_NAME}_app)
ENDIF()
SET(KLAYGE_PLATFORM_NAME ${KLAYGE_PLATFORM_NAME}_${KLAYGE_ARCH_NAME})
